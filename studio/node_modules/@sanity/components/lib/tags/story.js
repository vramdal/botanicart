'use strict';

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _storybook = require('part:@sanity/storybook');

var _textfield = require('part:@sanity/components/tags/textfield');

var _textfield2 = _interopRequireDefault(_textfield);

var _knobs = require('part:@sanity/storybook/addons/knobs');

var _sanity = require('part:@sanity/storybook/addons/sanity');

var _sanity2 = _interopRequireDefault(_sanity);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class DefaultTextFieldTagsImplementation extends _react2.default.Component {
  constructor(...args) {
    super(...args);

    this.handleChange = tags => {
      this.setState({
        tags: tags
      });
    };

    this.state = {
      tags: this.props.tags || []
    };
  }

  render() {
    return _react2.default.createElement(_textfield2.default, {
      label: 'Tags',
      placeholder: 'This is the placeholder',
      value: this.state.tags,
      onChange: this.handleChange
    });
  }
}

DefaultTextFieldTagsImplementation.propTypes = {
  tags: _propTypes2.default.arrayOf(_propTypes2.default.string)
};
(0, _storybook.storiesOf)('Tags').addDecorator(_knobs.withKnobs).add('Tags', () => {
  const tags = ['Test', 'Sanity'];

  return _react2.default.createElement(
    _sanity2.default,
    { part: 'part:@sanity/components/tags/textfield', propTables: [_textfield2.default] },
    _react2.default.createElement(_textfield2.default, {
      label: (0, _knobs.text)('label (prop)', 'Tags'),
      placeholder: (0, _knobs.text)('placeholder (prop)', 'This is the placeholder'),
      value: (0, _knobs.array)('value (prop)', tags),
      onChange: (0, _storybook.action)('onChange')
    })
  );
}).add('Tags (test)', () => {
  const tags = ['Test', 'Sanity', 'React', 'Computer', 'Macbook', 'Awesome', 'Windows', 'CPU', 'Moore', 'Intel', 'Ada', 'Enigma'];

  return _react2.default.createElement(
    _sanity2.default,
    { part: 'part:@sanity/components/tags/textfield', propTables: [_textfield2.default] },
    _react2.default.createElement(DefaultTextFieldTagsImplementation, { tags: (0, _knobs.array)('tags (prop)', tags) })
  );
});